<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/svg+xml" sizes="any"   href="/favicon.svg">
    <link rel="icon" type="image/svg+xml" sizes="64x64" href="/favicon.svg">
    <link rel="icon" type="image/svg+xml" sizes="32x32" href="/favicon.svg">
    <link rel="icon" type="image/svg+xml" sizes="16x16" href="/favicon.svg">

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#272531">
    <meta name="msapplication-TileColor" content="#272531">
    <meta name="theme-color" content="#272531">



    <link rel="stylesheet" type="text/css" href="/css/app.css?id=fdf453464b364088fc4203cb77580f7f">


    <title>Permissions | Orchid - Laravel Admin Panel</title>


<meta name="title" content="Permissions | Orchid - Laravel Admin Panel">
<meta name="description" content="Learn how to manage user permissions in your Laravel Orchid application with our comprehensive documentation on Permission. Easily control access to specific routes and actions with our intuitive interface. Get started now with our open-source package for rapid development of admin panels and dashboards.">






<meta property="og:type" content="website">
<meta property="og:url" content="https://orchid.software/en/docs/permissions"/>
<meta property="og:locale" content="en"/>
<meta property="og:title" content="Permissions | Orchid - Laravel Admin Panel"/>
<meta property="og:description" content="Learn how to manage user permissions in your Laravel Orchid application with our comprehensive documentation on Permission. Easily control access to specific routes and actions with our intuitive interface. Get started now with our open-source package for rapid development of admin panels and dashboards.">
<meta property="og:image" content="https://github.com/orchidsoftware/art/raw/master/orchid-share.jpg">


<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:url" content="https://orchid.software/en/docs/permissions">
<meta name="twitter:title" content="Permissions | Orchid - Laravel Admin Panel">
<meta name="twitter:description" content="Learn how to manage user permissions in your Laravel Orchid application with our comprehensive documentation on Permission. Easily control access to specific routes and actions with our intuitive interface. Get started now with our open-source package for rapid development of admin panels and dashboards.">
<meta name="twitter:image" content="https://github.com/orchidsoftware/art/raw/master/orchid-share.jpg">

    <meta http-equiv="Content-Security-Policy" content="frame-ancestors metrika.yandex.ru metrika.yandex.by metrica.yandex.com metrica.yandex.com.tr webvisor.com *.webvisor.com;">
    <meta name="view-transition" content="same-origin">
        
    <link rel="alternate" href="https://orchid.software/ru/docs/permissions/" hreflang="ru"/>
    <link rel="alternate" href="https://orchid.software/en/docs/permissions/" hreflang="en"/>
    <link rel="alternate" href="https://orchid.software/en/docs/permissions/" hreflang="x-default"/>

    <meta name="author" content="Alexandr Chernyaev">
    <meta property="og:site_name" content="Orchid - Laravel Admin Panel"/>
    <meta name="yandex-verification" content="23bb1990414a4f0e"/>
    <meta name="google-site-verification" content="EWv-U0_XG4_ck_eYWIAhKzyZeHWvow4EsYexXE1q0mc"/>
</head>
<body>


    <div class="bg-dark position-relative">

        <div class="container pt-md-4 pt-2 position-relative">
            <header class="d-flex flex-wrap align-items-center justify-content-center py-3 mb-4 px-4 position-relative">
                <a href="/" class="d-flex align-items-center mb-0 me-md-auto text-dark text-decoration-none">
    <img src="/img/next/logo-full.svg" class="logo">
</a>

<ul class="nav nav-pills mx-auto align-items-center d-none d-md-inline-flex">

            <li class="nav-item">
            <a href="/en/donations" class="nav-link">
                Donation
            </a>
        </li>
            <li class="nav-item">
            <a href="/en/hig" class="nav-link">
                Design
            </a>
        </li>
            <li class="nav-item">
            <a href="/en/discussions" class="nav-link">
                Discussion
            </a>
        </li>
    
    <li class="nav-item"><a href="https://github.com/orchidsoftware" class="nav-link">
            <svg width="1.5em" height="1.5em" viewBox="0 0 30 29" fill="currentColor"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M10.1367 23.0703C10.1367 22.9531 10.0195 22.8359 9.84375 22.8359C9.66797 22.8359 9.55078 22.9531 9.55078 23.0703C9.55078 23.1875 9.66797 23.3047 9.84375 23.2461C10.0195 23.2461 10.1367 23.1875 10.1367 23.0703ZM8.32031 22.7773C8.32031 22.8945 8.4375 23.0703 8.61328 23.0703C8.73047 23.1289 8.90625 23.0703 8.96484 22.9531C8.96484 22.8359 8.90625 22.7188 8.73047 22.6602C8.55469 22.6016 8.37891 22.6602 8.32031 22.7773ZM10.957 22.7188C10.7812 22.7188 10.6641 22.8359 10.6641 23.0117C10.6641 23.1289 10.8398 23.1875 11.0156 23.1289C11.1914 23.0703 11.3086 23.0117 11.25 22.8945C11.25 22.7773 11.0742 22.6602 10.957 22.7188ZM14.7656 0.21875C6.67969 0.21875 0.46875 6.42969 0.46875 14.5156C0.46875 21.0195 4.51172 26.5859 10.3711 28.5781C11.1328 28.6953 11.3672 28.2266 11.3672 27.875C11.3672 27.4648 11.3672 25.4727 11.3672 24.2422C11.3672 24.2422 7.26562 25.1211 6.38672 22.4844C6.38672 22.4844 5.74219 20.7852 4.80469 20.375C4.80469 20.375 3.45703 19.4375 4.86328 19.4375C4.86328 19.4375 6.32812 19.5547 7.14844 20.9609C8.4375 23.2461 10.5469 22.6016 11.4258 22.1914C11.543 21.2539 11.8945 20.6094 12.3633 20.1992C9.08203 19.8477 5.74219 19.3789 5.74219 13.7539C5.74219 12.1133 6.21094 11.3516 7.14844 10.2969C6.97266 9.88672 6.50391 8.36328 7.32422 6.3125C8.49609 5.96094 11.3672 7.89453 11.3672 7.89453C12.5391 7.54297 13.7695 7.42578 15 7.42578C16.2891 7.42578 17.5195 7.54297 18.6914 7.89453C18.6914 7.89453 21.5039 5.90234 22.7344 6.3125C23.5547 8.36328 23.0273 9.88672 22.9102 10.2969C23.8477 11.3516 24.4336 12.1133 24.4336 13.7539C24.4336 19.3789 20.9766 19.8477 17.6953 20.1992C18.2227 20.668 18.6914 21.5469 18.6914 22.9531C18.6914 24.8867 18.6328 27.3477 18.6328 27.8164C18.6328 28.2266 18.9258 28.6953 19.6875 28.5195C25.5469 26.5859 29.5312 21.0195 29.5312 14.5156C29.5312 6.42969 22.9102 0.21875 14.7656 0.21875ZM6.15234 20.4336C6.03516 20.4922 6.09375 20.668 6.15234 20.7852C6.26953 20.8438 6.38672 20.9023 6.50391 20.8438C6.5625 20.7852 6.5625 20.6094 6.44531 20.4922C6.32812 20.4336 6.21094 20.375 6.15234 20.4336ZM5.50781 19.9648C5.44922 20.082 5.50781 20.1406 5.625 20.1992C5.74219 20.2578 5.85938 20.2578 5.91797 20.1406C5.91797 20.082 5.85938 20.0234 5.74219 19.9648C5.625 19.9062 5.56641 19.9062 5.50781 19.9648ZM7.38281 22.0742C7.32422 22.1328 7.32422 22.3086 7.5 22.4258C7.61719 22.543 7.79297 22.6016 7.85156 22.4844C7.91016 22.4258 7.91016 22.25 7.79297 22.1328C7.67578 22.0156 7.5 21.957 7.38281 22.0742ZM6.73828 21.1953C6.62109 21.2539 6.62109 21.4297 6.73828 21.5469C6.85547 21.6641 6.97266 21.7227 7.08984 21.6641C7.14844 21.6055 7.14844 21.4297 7.08984 21.3125C6.97266 21.1953 6.85547 21.1367 6.73828 21.1953Z"/>
            </svg>
        </a>
    </li>


    <li class="nav-item d-none d-xxl-flex align-items-center px-3">
        <input class="form-control"
               type="search"
               name="search"
               id="docsearch"
               autocomplete="off"
               size="32"
               placeholder='/ Search docs...'
        >
    </li>

</ul>

<ul class="nav nav-pills ms-auto">
    <li class="nav-item"><a href="https://orchid.software/en/docs" class="btn btn-outline-primary">Documentation</a></li>
</ul>
            </header>
        </div>
    </div>

    <div class="documentation position-relative mb-5 mt-md-4 overflow-hidden">

        <div class="container position-relative" id="docs">
            <div class="row g-0 m-0 px-0 rounded-3 overflow-hidden">

                <img src="/img/next/docs-left-tentacli.svg" class="d-none d-md-block pe-none position-absolute" style="
    left: -40.5em;
    height: 20em;
    z-index: 3;
    bottom: 35%;">
                <img src="/img/next/docs-right-tentacli.svg" class="d-none d-md-block pe-none position-absolute" style="
    right: -15em;
    width: 25em;
    z-index: -1;
    bottom: 20%">


                <div class="col-12 col-lg-auto bg-grey py-lg-3 d-flex flex-column text-balance" style="background:#F9F9FE;z-index: 2">
                    <nav class="nav-docs px-lg-5 py-2 px-3">
            <p class="h5 font-weight-normal my-lg-3 my-2 me-2 me-lg-0 d-none d-md-inline-block" style="color: #22184D8C">Get Started</p>

        <ul>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs" class="text-decoration-none ">
                        Introduction
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/installation" class="text-decoration-none ">
                        Installation
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/configuration" class="text-decoration-none ">
                        Configuration
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/structure" class="text-decoration-none ">
                        Directory Structure
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/brand" class="text-decoration-none ">
                        Basic Branding
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/upgrade" class="text-decoration-none ">
                        Upgrade Guide
                    </a>
                </li>
                    </ul>
            <p class="h5 font-weight-normal my-lg-3 my-2 me-2 me-lg-0 d-none d-md-inline-block" style="color: #22184D8C">Tutorials</p>

        <ul>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/quickstart" class="text-decoration-none ">
                        Quick Start
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/quickstart-state" class="text-decoration-none ">
                        State Management
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/quickstart-crud" class="text-decoration-none ">
                        Data Management
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/quickstart-files" class="text-decoration-none ">
                        Managing Attachments
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/quickstart-sort-filter-table" class="text-decoration-none ">
                        Sorting and Filtering
                    </a>
                </li>
                    </ul>
            <p class="h5 font-weight-normal my-lg-3 my-2 me-2 me-lg-0 d-none d-md-inline-block" style="color: #22184D8C">The Basics</p>

        <ul>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/screens" class="text-decoration-none ">
                        Screens
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/field" class="text-decoration-none ">
                        Form Elements
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/menu" class="text-decoration-none ">
                        Navigation
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 border-primary active-doc-menu">
                    <a href="/en/docs/permissions" class="text-decoration-none text-primary">
                        Permissions
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/filters" class="text-decoration-none ">
                        Filtering
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/attachments" class="text-decoration-none ">
                        Attachments
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/alert" class="text-decoration-none ">
                        Notifications
                    </a>
                </li>
                    </ul>
            <p class="h5 font-weight-normal my-lg-3 my-2 me-2 me-lg-0 d-none d-md-inline-block" style="color: #22184D8C">Layouts</p>

        <ul>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/rows" class="text-decoration-none ">
                        Rows
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/table" class="text-decoration-none ">
                        Table
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/legend" class="text-decoration-none ">
                        Legend
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/cell-types" class="text-decoration-none ">
                        Cell Types
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/charts" class="text-decoration-none ">
                        Charts
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/modals" class="text-decoration-none ">
                        Modals
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/listener" class="text-decoration-none ">
                        Listeners
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/grouping" class="text-decoration-none ">
                        Grouping
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/custom-template" class="text-decoration-none ">
                        Views
                    </a>
                </li>
                    </ul>
            <p class="h5 font-weight-normal my-lg-3 my-2 me-2 me-lg-0 d-none d-md-inline-block" style="color: #22184D8C">Extra</p>

        <ul>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/icons" class="text-decoration-none ">
                        Icons
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/global-search" class="text-decoration-none ">
                        Scout Search
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/presenters" class="text-decoration-none ">
                        Presenters
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/javascript" class="text-decoration-none ">
                        Using JS
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/testing" class="text-decoration-none ">
                        Testing
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/authentication" class="text-decoration-none ">
                        Authentication
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/custom-field" class="text-decoration-none ">
                        Custom Fields
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/stubs" class="text-decoration-none ">
                        Stubs
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/controllers" class="text-decoration-none ">
                        Controllers
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/builder" class="text-decoration-none ">
                        Form Builder
                    </a>
                </li>
                    </ul>
            <p class="h5 font-weight-normal my-lg-3 my-2 me-2 me-lg-0 d-none d-md-inline-block" style="color: #22184D8C">Packages</p>

        <ul>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/packages" class="text-decoration-none ">
                        Package Development
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="/en/docs/packages/crud" class="text-decoration-none ">
                        CRUD
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-lg-3 py-1 ">
                    <a href="https://github.com/orchidsoftware/fortify" class="text-decoration-none ">
                        Fortify
                    </a>
                </li>
                    </ul>
    </nav>


<div class="d-none d-xl-block h-100 position-relative pt-5">
    <a href="#" title="Scroll to the top of the page" class="stretched-link"></a>
</div>
                </div>
                <div class="col-12 col-lg col-md-auto me-auto bg-white py-lg-3 overflow-hidden">
                    <main class="py-2 px-3 py-md-2 px-md-4 px-xl-5 ms-lg-4 me-lg-auto order-md-first overflow-auto">
                        
                            <div class="d-flex align-items-center mb-3 mt-3">
                                <h1 class="me-3">Permissions</h1>

                                <a href="https://github.com/orchidsoftware/orchid.software/edit/master/docs/en/docs/permissions.md" class="btn btn-outline-dark ms-auto d-none d-md-flex align-items-center text-decoration-none text-nowrap"
                                   title="View and edit this file on GitHub" target="_blank" rel="noopener"
                                >
                                    <svg class="me-2" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 32 32" fill="currentColor">
                                        <path d="M30.133 1.552c-1.090-1.044-2.291-1.573-3.574-1.573-2.006 0-3.47 1.296-3.87 1.693-0.564 0.558-19.786 19.788-19.786 19.788-0.126 0.126-0.217 0.284-0.264 0.456-0.433 1.602-2.605 8.71-2.627 8.782-0.112 0.364-0.012 0.761 0.256 1.029 0.193 0.192 0.45 0.295 0.713 0.295 0.104 0 0.208-0.016 0.31-0.049 0.073-0.024 7.41-2.395 8.618-2.756 0.159-0.048 0.305-0.134 0.423-0.251 0.763-0.754 18.691-18.483 19.881-19.712 1.231-1.268 1.843-2.59 1.819-3.925-0.025-1.319-0.664-2.589-1.901-3.776zM22.37 4.87c0.509 0.123 1.711 0.527 2.938 1.765 1.24 1.251 1.575 2.681 1.638 3.007-3.932 3.912-12.983 12.867-16.551 16.396-0.329-0.767-0.862-1.692-1.719-2.555-1.046-1.054-2.111-1.649-2.932-1.984 3.531-3.532 12.753-12.757 16.625-16.628zM4.387 23.186c0.55 0.146 1.691 0.57 2.854 1.742 0.896 0.904 1.319 1.9 1.509 2.508-1.39 0.447-4.434 1.497-6.367 2.121 0.573-1.886 1.541-4.822 2.004-6.371zM28.763 7.824c-0.041 0.042-0.109 0.11-0.19 0.192-0.316-0.814-0.87-1.86-1.831-2.828-0.981-0.989-1.976-1.572-2.773-1.917 0.068-0.067 0.12-0.12 0.141-0.14 0.114-0.113 1.153-1.106 2.447-1.106 0.745 0 1.477 0.34 2.175 1.010 0.828 0.795 1.256 1.579 1.27 2.331 0.014 0.768-0.404 1.595-1.24 2.458z"></path>
                                    </svg>
                                    Suggest Edit
                                </a>
                            </div>


                            <div class="anchors">
            <ul>
                            <li class="anchor-h2">
                    <a href="#usage">Usage</a>
                </li>
                            <li class="anchor-h2">
                    <a href="#roles">Roles</a>
                </li>
                            <li class="anchor-h2">
                    <a href="#registering-permissions">Registering Permissions</a>
                </li>
                            <li class="anchor-h2">
                    <a href="#check-in-screens">Check-in Screens</a>
                </li>
                            <li class="anchor-h2">
                    <a href="#check-in-middleware">Check-in Middleware</a>
                </li>
                            <li class="anchor-h2">
                    <a href="#check-in-blade">Check-in Blade</a>
                </li>
                            <li class="anchor-h2">
                    <a href="#creating-an-admin-user-via-console">Creating an Admin User via Console</a>
                </li>
                            <li class="anchor-h2">
                    <a href="#user-impersonation">User Impersonation</a>
                </li>
                    </ul>
    </div>
                            <body><p>In Orchid, access control is managed through <strong>permissions</strong> and <strong>roles</strong>. Permissions define access rights, which can be assigned to a user either directly or through roles, simplifying access management.</p>
<p>It is generally better to use <strong>roles</strong> to group permissions, as this makes managing user rights easier. Instead of assigning individual permissions to each user, roles allow you to assign one or more roles to a user. However, if needed, permissions can also be assigned directly to the user.</p>
<blockquote>
<p><strong>Important:</strong> Permissions do not replace Laravel&rsquo;s <strong>Gate</strong> or <strong>Policies</strong> mechanisms. These mechanisms are still necessary for fine-grained access control, and permissions work in conjunction with them.</p>
</blockquote>
<p>Although roles simplify management, the focus should be on <strong>permissions</strong>. Application logic should check access based on permissions, not roles, using the <code>can</code> methods.</p>
<blockquote>
<p><strong>Important:</strong> Access should always be checked through <strong>permissions</strong>, not <strong>roles</strong>. Roles serve as a convenience for grouping permissions, but access should always be checked based on permissions, not roles.</p>
</blockquote>
<h2><a href='#usage' id='usage'>Usage</a></h2>
<p>Method <code>hasAccess</code> will strictly require passed permission to be valid to grant access.</p>
<pre><code data-lang="php" class="notranslate"><span class="hl-comment">// Check is carried out both for the user and for his role</span>
<span class="hl-type">Auth</span><span class="hl-delimeter">::</span><span class="hl-function">user</span>()<span class="hl-delimeter">-&gt;</span><span class="hl-function">hasAccess</span>($string);
</code></pre>
<p>Method <code>hasAnyAccess</code> will grant access if any permission passes the check.</p>
<pre><code data-lang="php" class="notranslate">$user <span class="hl-operator">=</span> <span class="hl-type">User</span><span class="hl-delimeter">::</span><span class="hl-function">find</span>(<span class="hl-number">1</span>);

<span class="hl-keyword">if</span> ($user<span class="hl-delimeter">-&gt;</span><span class="hl-function">hasAnyAccess</span>([<span class="hl-value">'user.admin'</span>, <span class="hl-value">'user.update'</span>])) {
    <span class="hl-comment">// Execute this code if the user has permission</span>
}
</code></pre>
<blockquote>
<p><strong>Note.</strong> Permissions can be checked based on wildcards using the <code>*</code> character to match any set of permissions.</p>
</blockquote>
<pre><code data-lang="php" class="notranslate">$user <span class="hl-operator">=</span> <span class="hl-type">User</span><span class="hl-delimeter">::</span><span class="hl-function">find</span>(<span class="hl-number">1</span>);

<span class="hl-keyword">if</span> ($user<span class="hl-delimeter">-&gt;</span><span class="hl-function">hasAccess</span>(<span class="hl-value">'user.*'</span>)) {
    <span class="hl-comment">// Execute this code if the user has permission</span>
}
</code></pre>
<p>In rare cases, you may need to take users who have permission directly or through a role. To do this, you can use:</p>
<pre><code data-lang="php" class="notranslate"><span class="hl-type">User</span><span class="hl-delimeter">::</span><span class="hl-function">byAccess</span>(<span class="hl-value">'platform.systems.users'</span>)<span class="hl-delimeter">-&gt;</span><span class="hl-function">get</span>();

<span class="hl-comment">// Or if the user has at least one of the passed permissions</span>
<span class="hl-type">User</span><span class="hl-delimeter">::</span><span class="hl-function">byAnyAccess</span>([
   <span class="hl-value">'platform.systems.users'</span>,
   <span class="hl-value">'non existent'</span>,
])<span class="hl-delimeter">-&gt;</span><span class="hl-function">get</span>();
</code></pre>
<p>The user has several options for managing roles:</p>
<pre><code data-lang="php" class="notranslate"><span class="hl-comment">// Get all user roles</span>
<span class="hl-type">Auth</span><span class="hl-delimeter">::</span><span class="hl-function">user</span>()<span class="hl-delimeter">-&gt;</span><span class="hl-function">getRoles</span>();

<span class="hl-comment">// Check whether the user has a role</span>
<span class="hl-type">Auth</span><span class="hl-delimeter">::</span><span class="hl-function">user</span>()<span class="hl-delimeter">-&gt;</span><span class="hl-function">inRole</span>($role);

<span class="hl-comment">// Add role to user</span>
<span class="hl-type">Auth</span><span class="hl-delimeter">::</span><span class="hl-function">user</span>()<span class="hl-delimeter">-&gt;</span><span class="hl-function">addRole</span>($role);
</code></pre>
<h2><a href='#roles' id='roles'>Roles</a></h2>
<p>Roles also have procedures for:</p>
<pre><code data-lang="php" class="notranslate"><span class="hl-comment">// Returns all users with this role.</span>
$role<span class="hl-delimeter">-&gt;</span><span class="hl-function">getUsers</span>();
</code></pre>
<h2><a href='#registering-permissions' id='registering-permissions'>Registering Permissions</a></h2>
<p>You can register permissions in your application to manage access to specific features.</p>
<p>Example of registering permissions using a provider:</p>
<pre><code data-lang="php" class="notranslate"><span class="hl-keyword">use</span> Orchid\Platform\<span class="hl-type">ItemPermission</span>;
<span class="hl-keyword">use</span> Orchid\Platform\<span class="hl-type">OrchidServiceProvider</span>;

<span class="hl-keyword">class</span> <span class="hl-type">PermissionServiceProvider</span> <span class="hl-keyword">extends</span> <span class="hl-template">OrchidServiceProvider</span>
{
    <span class="hl-comment">/**
     * Register permissions for the application.
     *
     * <span class="hl-keyword">@return</span> <span class="hl-type">ItemPermission</span>[]
     */</span>
    <span class="hl-keyword">public</span> <span class="hl-keyword">function</span> <span class="hl-function">permissions</span>(): <span class="hl-keyword">array</span>
    {
        <span class="hl-keyword">return</span> [
            <span class="hl-type">ItemPermission</span><span class="hl-delimeter">::</span><span class="hl-function">group</span>(<span class="hl-value">'modules'</span>)
                <span class="hl-delimeter">-&gt;</span><span class="hl-function">addPermission</span>(<span class="hl-value">'analytics'</span>, <span class="hl-value">'Access to data analytics'</span>)
                <span class="hl-delimeter">-&gt;</span><span class="hl-function">addPermission</span>(<span class="hl-value">'monitor'</span>, <span class="hl-value">'Access to the system monitor'</span>),
        ];
    }
}
</code></pre>
<h2><a href='#check-in-screens' id='check-in-screens'>Check-in Screens</a></h2>
<p>Each created screen already has a built-in permission check set using method
<code>permission</code>, which accepts both an array and a string value for verification:</p>
<pre><code data-lang="php" class="notranslate"><span class="hl-keyword">namespace</span> App\Orchid\Screens;

<span class="hl-keyword">use</span> Orchid\Screen\<span class="hl-type">Screen</span>;

<span class="hl-keyword">class</span> <span class="hl-type">History</span> <span class="hl-keyword">extends</span> <span class="hl-template">Screen</span>
{
    <span class="hl-comment">/**
     * The permissions required to access this screen.
     */</span>
    <span class="hl-keyword">public</span> <span class="hl-keyword">function</span> <span class="hl-function">permission</span>(): ?<span class="hl-type">iterable</span>
    {
        <span class="hl-keyword">return</span> [
            <span class="hl-value">'systems.history'</span>
        ];
    }
        
    <span class="hl-comment">// ...</span>
}
</code></pre>
<p>If several keys are listed, access will be granted if the user has at least one permission.</p>
<p>If there is no access, the static method <code>unaccessed</code> will be called, which by default will show a <code>403</code> error. You can override this response, e.g. to redirect a payment page or return a different response:</p>
<pre><code data-lang="php" class="notranslate"><span class="hl-keyword">use</span> Illuminate\Http\<span class="hl-type">RedirectResponse</span>;

<span class="hl-comment">/**
 * <span class="hl-keyword">@return</span> \Illuminate\Http\<span class="hl-type">RedirectResponse</span>
 */</span>
<span class="hl-keyword">public</span> <span class="hl-keyword">static</span> <span class="hl-keyword">function</span> <span class="hl-function">unaccessed</span>(): <span class="hl-type">RedirectResponse</span>
{
    <span class="hl-keyword">return</span> <span class="hl-function">redirect</span>(<span class="hl-value">'/other-screen'</span>);
}
</code></pre>
<h2><a href='#check-in-middleware' id='check-in-middleware'>Check-in Middleware</a></h2>
<p>Small applications may not need to define permissions for each screen or class, instead, it makes sense to check their availability for routes.
To do this, register a new <code>middleware</code> in <code>app/Http/Kernel</code>:</p>
<pre><code data-lang="php" class="notranslate"><span class="hl-comment">/**
 * The application's route middleware.
 *
 * These middleware may be assigned to groups or used individually.
 *
 * <span class="hl-keyword">@var</span> <span class="hl-keyword">array</span>
 */</span>
<span class="hl-keyword">protected</span> $routeMiddleware <span class="hl-operator">=</span> [
    <span class="hl-comment">//...</span>
    <span class="hl-value">'access'</span> <span class="hl-operator">=&gt;</span> \Orchid\Platform\Http\Middleware\<span class="hl-type">Access</span><span class="hl-delimeter">::</span><span class="hl-keyword">class</span>,
];
</code></pre>
<p>After that, it can be used for any route definitions, by passing the parameter <code>access:my-permission</code>, just like in <code>Auth::user()-&gt;hasAccess($string);</code></p>
<pre><code data-lang="php" class="notranslate"><span class="hl-type">Route</span><span class="hl-delimeter">::</span><span class="hl-function">screen</span>(<span class="hl-value">'/stories'</span>, <span class="hl-type">StoriesScreen</span><span class="hl-delimeter">::</span><span class="hl-keyword">class</span>)
    <span class="hl-delimeter">-&gt;</span><span class="hl-function">middleware</span>(<span class="hl-value">'access:systems.history'</span>);
</code></pre>
<p>You can also group them into groups:</p>
<pre><code data-lang="php" class="notranslate"><span class="hl-type">Route</span><span class="hl-delimeter">::</span><span class="hl-function">middleware</span>([<span class="hl-value">'access:systems.history'</span>])<span class="hl-delimeter">-&gt;</span><span class="hl-function">group</span>(<span class="hl-keyword">function</span> () {
    <span class="hl-type">Route</span><span class="hl-delimeter">::</span><span class="hl-function">screen</span>(<span class="hl-value">'/stories'</span>, <span class="hl-type">StoriesScreen</span><span class="hl-delimeter">::</span><span class="hl-keyword">class</span>);
    <span class="hl-type">Route</span><span class="hl-delimeter">::</span><span class="hl-function">get</span>(<span class="hl-value">'/stories/best'</span>, <span class="hl-keyword">function</span> () {
        <span class="hl-comment">// ...</span>
    });
});
</code></pre>
<h2><a href='#check-in-blade' id='check-in-blade'>Check-in Blade</a></h2>
<p>For applications that rely on Blade templating to render, it will be convenient to add <a href="https://laravel.com/docs/8.x/blade#custom-if-statements">&ldquo;Custom If Statements&rdquo;</a> as follows:</p>
<pre><code data-lang="php" class="notranslate"><span class="hl-keyword">use</span> Illuminate\Support\Facades\<span class="hl-type">Blade</span>;
<span class="hl-keyword">use</span> Illuminate\Support\Facades\<span class="hl-type">Auth</span>;

<span class="hl-comment">/**
 * Bootstrap any application services.
 *
 * <span class="hl-keyword">@return</span> <span class="hl-keyword">void</span>
 */</span>
<span class="hl-keyword">public</span> <span class="hl-keyword">function</span> <span class="hl-function">boot</span>()
{
    <span class="hl-type">Blade</span><span class="hl-delimeter">::</span><span class="hl-keyword"><span class="hl-function">if</span></span>(<span class="hl-value">'hasAccess'</span>, <span class="hl-keyword">function</span> (<span class="hl-injection"><span class="hl-keyword">string</span> $value</span>) {
        $user <span class="hl-operator">=</span> <span class="hl-type">Auth</span><span class="hl-delimeter">::</span><span class="hl-function">user</span>();

        <span class="hl-keyword">if</span> ($user <span class="hl-operator">===</span> <span class="hl-keyword"><span class="hl-constant">null</span></span>) {
            <span class="hl-keyword">return</span> <span class="hl-constant">false</span>;
        }

        <span class="hl-keyword">return</span> $user<span class="hl-delimeter">-&gt;</span><span class="hl-function">hasAccess</span>($value);
    });
}
</code></pre>
<p>Once the custom conditional has been defined, you can use it within your templates:</p>
<pre><code data-lang="html" class="notranslate">@hasAccess('platform.index')
    <span class="hl-comment">&lt;!-- User has permission for the 'platform.index' action --&gt;</span>
@elsehasAccess('platform.other')
    <span class="hl-comment">&lt;!-- User doesn't have permission for 'platform.index',
         but has permission for 'platform.other' --&gt;</span>
@else
    <span class="hl-comment">&lt;!-- User doesn't have permission for both 'platform.index'
         and 'platform.other' --&gt;</span>
@endhasAccess

@unlesshasAccess('platform.index')
    <span class="hl-comment">&lt;!-- User doesn't have permission for 'platform.index' --&gt;</span>
@endhasAccess
</code></pre>
<h2><a href='#creating-an-admin-user-via-console' id='creating-an-admin-user-via-console'>Creating an Admin User via Console</a></h2>
<p>To create a user with the maximum (at the time of creation) permissions, run the following command:</p>
<pre><code data-lang="php" class="notranslate">php artisan orchid:admin
</code></pre>
<p>To give the existing user the maximum permissions, run with the <code>--id</code> option:</p>
<pre><code data-lang="php" class="notranslate">php artisan orchid:admin --id=<span class="hl-number">1</span>
</code></pre>
<p>If you have added new mandatory columns for the user and need to modify the command to add corresponding values, first specify Orchid to use your model by adding the following code to the service provider:</p>
<pre><code data-lang="php" class="notranslate"><span class="hl-keyword">use</span> Orchid\Support\Facades\<span class="hl-type">Dashboard</span>;

<span class="hl-keyword">class</span> <span class="hl-type">AppServiceProvider</span> <span class="hl-keyword">extends</span> <span class="hl-template">ServiceProvider</span>
{
    <span class="hl-keyword">public</span> <span class="hl-keyword">function</span> <span class="hl-function">boot</span>()
    {
        <span class="hl-type">Dashboard</span><span class="hl-delimeter">::</span><span class="hl-function">useModel</span>(
            \Orchid\Platform\Models\<span class="hl-type">User</span><span class="hl-delimeter">::</span><span class="hl-keyword">class</span>,
            \App\Models\<span class="hl-type">User</span><span class="hl-delimeter">::</span><span class="hl-keyword">class</span>
        );
    }
}
</code></pre>
<p>Then override the <code>createAdmin</code> method in your <code>User</code> model:</p>
<pre><code data-lang="php" class="notranslate"><span class="hl-keyword">public</span> <span class="hl-keyword">static</span> <span class="hl-keyword">function</span> <span class="hl-function">createAdmin</span>(<span class="hl-injection"><span class="hl-keyword">string</span> $name, <span class="hl-keyword">string</span> $email, <span class="hl-keyword">string</span> $password</span>): <span class="hl-keyword">void</span>
{
    <span class="hl-function">throw_if</span>(<span class="hl-keyword"><span class="hl-type">static</span></span><span class="hl-delimeter">::</span><span class="hl-function">where</span>(<span class="hl-value">'email'</span>, $email)<span class="hl-delimeter">-&gt;</span><span class="hl-function">exists</span>(), <span class="hl-value">'User already exists'</span>);

    <span class="hl-keyword"><span class="hl-type">static</span></span><span class="hl-delimeter">::</span><span class="hl-function">create</span>([
        <span class="hl-value">'name'</span>        <span class="hl-operator">=&gt;</span> $name,
        <span class="hl-value">'email'</span>       <span class="hl-operator">=&gt;</span> $email,
        <span class="hl-value">'password'</span>    <span class="hl-operator">=&gt;</span> <span class="hl-type">Hash</span><span class="hl-delimeter">::</span><span class="hl-function">make</span>($password),
        <span class="hl-value">'permissions'</span> <span class="hl-operator">=&gt;</span> <span class="hl-type">Dashboard</span><span class="hl-delimeter">::</span><span class="hl-function">getAllowAllPermission</span>(),
    ]);
}
</code></pre>
<p>Now you can modify this method as per your requirements, and when executing the creation command, this method will be executed.</p>
<h2><a href='#user-impersonation' id='user-impersonation'>User Impersonation</a></h2>
<p>The <code>Orchid\Access\Impersonation</code> class provides developers with convenient functionality for logging in as another user.
It allows administrators to impersonate other users in order to view and perform actions on their behalf.
This is useful for troubleshooting and resolving issues reported by users.</p>
<p>To switch to another user, use the <code>loginAs()</code> method:</p>
<pre><code data-lang="php" class="notranslate"><span class="hl-keyword">use</span> Orchid\Access\<span class="hl-type">Impersonation</span>;

<span class="hl-comment">// Login as another user</span>
<span class="hl-type">Impersonation</span><span class="hl-delimeter">::</span><span class="hl-function">loginAs</span>($otherUser);
</code></pre>
<p>To revert back to the original user, call the <code>logout()</code> method:</p>
<pre><code data-lang="php" class="notranslate"><span class="hl-comment">// Revert back to the original user</span>
<span class="hl-type">Impersonation</span><span class="hl-delimeter">::</span><span class="hl-function">logout</span>();
</code></pre>
<p>The <code>isImpersonating()</code> method checks if the impersonation has been performed:</p>
<pre><code data-lang="php" class="notranslate"><span class="hl-keyword">if</span> (<span class="hl-type">Impersonation</span><span class="hl-delimeter">::</span><span class="hl-function">isImpersonating</span>()) {
    <span class="hl-comment">// The user is impersonating another user</span>
}
</code></pre>
<p>The <code>impersonator()</code> method returns information about the original user. If no impersonation has been performed, the method will return <code>null</code>:</p>
<pre><code data-lang="php" class="notranslate"><span class="hl-comment">// Get information about the original user</span>
$impersonator <span class="hl-operator">=</span> <span class="hl-type">Impersonation</span><span class="hl-delimeter">::</span><span class="hl-function">impersonator</span>();
</code></pre>
</body>

                                                                        </main>
                </div>

                <div class="d-none d-xxl-block col-xxl-auto bg-white">
                    <div class="pt-5 d-none d-lg-flex flex-column mb-3">
                        <p class="mb-1 d-none d-md-inline-block text-dark opacity-75 text-center small">
                            Our Friends
                        </p>

                        <div class="d-flex flex-column friends">
                            <a href="https://github.com/Assisted-Mindfulness?utm_source=orchid&utm_medium=docs&utm_campaign=friends" class="mt-2 py-3 rounded-3 mx-4" target="_blank" style="background: #2624300f;">
                                <img src="/img/sponsors/assisted-mindfulness-logo.svg" class="rounded-3" height="40px">
                            </a>

                            <a href="https://sajya.github.io?utm_source=orchid&utm_medium=docs&utm_campaign=friends" class="mt-2 py-3 rounded-3 mx-4" target="_blank" style="background: #2624300f;">
                                <img src="/img/sponsors/sajya.svg" class="rounded-3" height="40px">
                            </a>

                                                    </div>
                    </div>
                </div>
            </div>
        </div>
    </div>





<div class="footer bg-dark">
    <div class="container">
        <div class="row">

            <div class="col-md-5 footer-tentacles"></div>

            <div class="col-12 col-md-7">
                <div class="px-md-4 py-lg-5 my-lg-5 pb-5 px-3">
                    <h1 class="display-4 fw-bold mb-4 mb-md-5 text-balance">
                        <span class="text-primary">Discover</span> even more.
                    </h1>
                    <div class="col-lg-7 me-md-auto ms-md-0 mx-auto">
                        <p class="mb-0">
                            <a href="/en/community/code-of-conduct"
                               class="btn btn-outline-primary mb-3">Community Guidelines</a>
                            
                            <a href="https://opencollective.com/orchid"
                               class="btn btn-outline-primary mb-3">Donation</a>
                        </p>
                        <p>
                            <a href="https://github.com/orchidsoftware" class="btn btn-outline-primary mb-3">GitHub</a>
                            <a href="/en/discussions" class="btn btn-outline-primary mb-3">Discussion</a>
                            <a href="/en/hig" class="btn btn-outline-primary mb-3">HIG</a>
                            <a href="/en/license" class="btn btn-outline-primary mb-3">License</a>
                            
                        </p>
                    </div>
                    <small class="mt-5 mb-0">
                        <a href="/en/docs" class="text-white">English</a>  /
                        <a href="/ru/docs" class="text-muted">Russian</a>
                    </small>
                </div>
            </div>

        </div>
    </div>
</div>

<script src="/js/app.js?id=226a26f2e78e9e07674730e9bb9e200f"></script>

    <!-- Yandex.Metrika counter -->
    <script type="text/javascript" > (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)}; m[i].l=1*new Date(); for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }} k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)}) (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym"); ym(42925369, "init", { clickmap:true, trackLinks:true, accurateTrackBounce:true, webvisor:true, trackHash:true }); </script> <noscript><div><img src="https://mc.yandex.ru/watch/42925369" style="position:absolute; left:-9999px;" alt="" /></div></noscript> 
    <!-- /Yandex.Metrika counter -->
    
    <script async>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
        ga('create', 'UA-39757298-4', 'auto');
        ga('send', 'pageview');
    </script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
    if (window.document.getElementById('docsearch')) {
        docsearch({
            apiKey: 'afc2a7f7d4f201489dcd8c4f0f40bde2',
            indexName: 'orchid_software',
            inputSelector: '#docsearch',
            algoliaOptions: {'facetFilters': ["lang:" + document.documentElement.lang]},
            debug: true
        });
        document.addEventListener('keydown', (e) => {
            if (e.keyCode === 111 || e.keyCode === 191) {
                e.preventDefault()
                document.getElementById('docsearch').focus();
            }
            if (e.keyCode === 27) {
                document.getElementById('docsearch').blur();
                e.preventDefault()
            }
        })
    }
</script>

</body>
</html>
