<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description" content="RAD platform for building a business application using the Laravel framework. Can act as the basis for web applications or perform the functions of CMS, CMF or admin panel for your site."><meta name="author" content="Alexandr Chernyaev"><meta property="og:site_name" content="Orchid - Laravel Admin Panel"><meta property="og:title" content="Table | Orchid - Laravel Admin Panel"><meta property="og:description" content="RAD platform for building a business application using the Laravel framework. Can act as the basis for web applications or perform the functions of CMS, CMF or admin panel for your site."><meta property="og:url" content="https://orchid.software/en/docs/layouts/table"><meta property="og:image" content="/assets/img/orchid.svg"><meta property="og:type" content="website"><meta name="yandex-verification" content="23bb1990414a4f0e"><meta name="google-site-verification" content="EWv-U0_XG4_ck_eYWIAhKzyZeHWvow4EsYexXE1q0mc"><meta name="twitter:image:alt" content="Orchid - Laravel Admin Panel"><meta name="twitter:card" content="summary_large_image"><title>Orchid - Laravel Admin Panel | Table</title><link rel="home" href="https://orchid.software"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/assets/build/css/app.css?id=9e282d44ff14b48a0737"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"></head><body itemscope itemtype="http://schema.org/WebPage">

    <div id="app">

        <!-- header -->
        <header id="header" class="bg-dark"><div class="container">
                <div class="row d-flex flex-column flex-md-row align-items-center py-3 px-md-4">
                    <h5 class="my-0 mr-md-auto font-weight-normal">
                        <a href="https://orchid.software/en" class="v-center">
                            <img src="/assets/img/logo-white.svg" alt="Laravel Orchid" class="mr-3" style="height: 20px;"><span class="h3 font-thin text-uppercase">Orchid</span>
                        </a>
                    </h5>
                    

                    <div class="form-group mb-0 pl-sm-3 pr-sm-3 mb-3 mb-sm-0 d-none d-md-block">
                        <div class="block w-100">
                            <input type="search" class="form-control w-full" id="docsearch" placeholder="Search..."></div>
                    </div>

                    <a href="/en/docs" class="btn btn-sm btn-outline-primary btn-rounded mt-4 mt-sm-0">
                        <strong>
                            <i class="icon-docs m-r-xs text-xs"></i>
                            Documentation                        </strong>
                    </a>

                    
                </div>
            </div>
        </header><!-- / header --><div id="content">
            
    <div class="bg-white-only">
        <div class="container no-padder" id="docs">
            <div class="row pt-3 pb-3 m-0">
                <div class="col-md-3 b-r">
                    <nav class="nav-docs"><ul class=" toc-links "><h4 class="text-orchid font-thin">Main</h4>

<li class="">
    
            
        <ul class=" toc-links-1 "><li class="">
            
        <a href="/en/docs/screens" class="lvl1 ">
            Come back
        </a>
    
    </li>
            <li class="">
            
        <a href="/en/docs/layouts" class="lvl1 ">
            Screen layouts
        </a>
    
    </li>
    </ul></li>
            <h4 class="text-orchid font-thin">Layers for grouping</h4>

<li class="">
    
            
        <ul class=" toc-links-1 "><li class="">
            
        <a href="/en/docs/layouts/accordion" class="lvl1 ">
            Accordion
        </a>
    
    </li>
            <li class="">
            
        <a href="/en/docs/layouts/columns" class="lvl1 ">
            Columns
        </a>
    
    </li>
            <li class="">
            
        <a href="/en/docs/layouts/drop-down-list" class="lvl1 ">
            Drop-down list
        </a>
    
    </li>
            <li class="">
            
        <a href="/en/docs/layouts/modals" class="lvl1 ">
            Modals
        </a>
    
    </li>
            <li class="">
            
        <a href="/en/docs/layouts/rows" class="lvl1 ">
            Rows
        </a>
    
    </li>
            <li class="">
            
        <a href="/en/docs/layouts/selection" class="lvl1 ">
            Selection
        </a>
    
    </li>
            <li class="">
            
        <a href="/en/docs/layouts/tabs" class="lvl1 ">
            Tabs
        </a>
    
    </li>
    </ul></li>
            <h4 class="text-orchid font-thin">Layers to display</h4>

<li class="">
    
            
        <ul class=" toc-links-1 "><li class="">
            
        <a href="/en/docs/layouts/charts" class="lvl1 ">
            Charts
        </a>
    
    </li>
            <li class="active">
            
        <a href="/en/docs/layouts/table" class="lvl1 ">
            Table
        </a>
    
    </li>
            <li class="">
            
        <a href="/en/docs/layouts/cards" class="lvl1 ">
            Cards
        </a>
    
    </li>
            <li class="">
            
        <a href="/en/docs/layouts/facepile" class="lvl1 ">
            Facepile
        </a>
    
    </li>
            <li class="">
            
        <a href="/en/docs/layouts/persona" class="lvl1 ">
            Persona
        </a>
    
    </li>
    </ul></li>
            <h4 class="text-orchid font-thin">Universal</h4>

<li class="">
    
            
        <ul class=" toc-links-1 "><li class="">
            
        <a href="/en/docs/layouts/listener" class="lvl1 ">
            Listener
        </a>
    
    </li>
            <li class="">
            
        <a href="/en/docs/layouts/custom-template" class="lvl1 ">
            Custom template
        </a>
    
    </li>
            <li class="">
            
        <a href="/en/docs/layouts/extension" class="lvl1 ">
            Extension
        </a>
    
    </li>
            <li class="">
            
        <a href="/en/docs/layouts/wrapper" class="lvl1 ">
            Wrapper
        </a>
    
    </li>
            <li class="">
            
        <a href="/en/docs/layouts/components" class="lvl1 ">
            Components
        </a>
    
    </li>
    </ul></li>
    </ul></nav></div>
                <div class="col col-md-9">
                    <main class="py-2 px-2 py-md-4 px-md-4 order-md-first"><h1>Table</h1>

                                                    <div class="none d-md-block">
                                <a href="https://github.com/orchidsoftware/orchid.software/edit/master/source/en/docs/layouts/table.md" class="pull-right bg-white" style="margin-top: -0.5em; padding-left: 15px; ">
                                    <small class="text-muted"><i class="icon-pencil m-r-xs"></i> Edit this page</small>
                                </a>
                            </div>
                                                <hr class="mb-4"><ul class="pl-5">
                    <li class="anchor-h2">
                <a href="#tables">Tables</a>
            </li>
                    <li class="anchor-h2">
                <a href="#cells">Cells</a>
            </li>
                    <li class="anchor-h3">
                <a href="#alignment">Alignment</a>
            </li>
                    <li class="anchor-h3">
                <a href="#sorting">Sorting</a>
            </li>
                    <li class="anchor-h3">
                <a href="#width">Width</a>
            </li>
                    <li class="anchor-h3">
                <a href="#show-and-hide-columns">Show and hide columns</a>
            </li>
                    <li class="anchor-h3">
                <a href="#data-output">Data output</a>
            </li>
                    <li class="anchor-h2">
                <a href="#table-options">Table options</a>
            </li>
                    <li class="anchor-h2">
                <a href="#column-expansion">Column Expansion</a>
            </li>
            </ul>
    <hr>
<h2><a href="#tables" name="tables">Tables</a></h2>
<p>The table layout is used to display minimal information for viewing and selection.</p>
<p><img src="/assets/img/layouts/table.png" alt="Table"></p>
<p>To create, run the command:</p>
<pre><code class="language-php">php artisan orchid:table PatientListLayout</code></pre>
<p>Example:</p>
<pre><code class="language-php">namespace App\Layouts\Clinic\Patient;

use Orchid\Screen\TD;
use Orchid\Screen\Actions\Link;
use Orchid\Screen\Actions\ModalToggle;
use Orchid\Screen\Layouts\Table;
use Orchid\Platform\Http\Filters\SearchFilter;
use App\Http\Filters\LastNamePatient;

class PatientListLayout extends Table
{
    /**
     * Data source.
     *
     * The name of the key to fetch it from the query.
     * The results of which will be elements of the table.
     *
     * @var string
     */
    protected $target = 'patients';

    /**
     * @return TD[]
     */
    protected function columns() : array
    {
        return [
            TD::set('last_name','Last name')
                -&gt;align('center')
                -&gt;width('100px')
                -&gt;render(function ($patient) {
                    return Link::make($patient-&gt;last_name)
                        -&gt;route('platform.clinic.patient.edit', $patient);
                }),

            TD::set('first_name', 'First Name')
                -&gt;sort()
                -&gt;render(function ($patient) {
                    return Link::make($patient-&gt;first_name)
                        -&gt;route('platform.clinic.patient.edit', $patient);
                }),

            TD::set('phone','Phone')
                -&gt;render(function ($patient){
                    return ModalToggle::make($patient-&gt;phone)
                        -&gt;modal('oneAsyncModal')
                        -&gt;modalTitle('Phone')
                        -&gt;method('saveUser')
                        -&gt;asyncParameters([
                            'id' =&gt; $patient-&gt;id,
                        ]);
                }),

            TD::set('email','Email'),
            TD::set('created_at','Date of publication'),
        ];
    }
}</code></pre>
<p>Tables also support writing through short syntax without creating a class:</p>
<pre><code class="language-php">use Orchid\Screen\Layout;
use Orchid\Screen\TD;

Layout::table('clients', [
    TD::set('name'),
    TD::set('created_at')-&gt;sort(),
]);</code></pre>
<h2><a href="#cells" name="cells">Cells</a></h2>
<p>A table is only a general wrapper for which you need to specify TD classes. Designed to create a single cell.</p>
<pre><code class="language-php">use Orchid\Screen\TD;

TD::set('last_name');</code></pre>
<p>The <code>set</code> method is the main method, sets the key name from the array and the display name.</p>
<pre><code class="language-php">TD::set('last_name', 'Last name');</code></pre>
<h3><a href="#alignment" name="alignment">Alignment</a></h3>
<p>Content alignment control can be controlled using the <code>align</code> method:</p>
<pre><code class="language-php">TD::set('last_name')-&gt;align(TD::ALIGN_LEFT);
TD::set('last_name')-&gt;align(TD::ALIGN_CENTER);
TD::set('last_name')-&gt;align(TD::ALIGN_RIGHT);</code></pre>
<h3><a href="#sorting" name="sorting">Sorting</a></h3>
<p>Sorting the selection should be done in the <code>query</code> screen,
for models, you can use automatic <code>http</code> <a href="/en/docs/filters/#automatic-http-filtering-and-sorting">sorting and
filtering</a></p>
<p>To enable active sorting by this column
you must specify the <code>sort</code> method:</p>
<pre><code class="language-php">TD::set('last_name')-&gt;sort();</code></pre>
<h3><a href="#width" name="width">Width</a></h3>
<p>You can control the width of the cell using the <code>width</code> method:</p>
<pre><code class="language-php">TD::set('last_name')-&gt;width('100px');</code></pre>
<h3><a href="#show-and-hide-columns" name="show-and-hide-columns">Show and hide columns</a></h3>
<p>By default, the user can hide any column for himself, but you can
prohibit doing this by specifying:</p>
<pre><code class="language-php">TD::set('last_name')-&gt;cantHide();</code></pre>
<p>And also hide by default, but can be shown at the request of the user.</p>
<pre><code class="language-php">TD::set('last_name')-&gt;defaultHidden();</code></pre>
<h3><a href="#data-output" name="data-output">Data output</a></h3>
<p>In some cases, you may need to display combined
Â  data, the <code>render</code> method is for this purpose intended. It implements the ability to generate cells according to the function:</p>
<pre><code class="language-php">TD::set('full_name')
    -&gt;render(function ($user) {
        return $user-&gt;firt_name . ' ' . $user-&gt;last_name;
    });</code></pre>
<p>The loopback function must return any string value:</p>
<pre><code class="language-php">TD::set('full_name')
    -&gt;render(function ($user) {
        return view('blade_template', [
            'user' =&gt; $user
        ]);
    });</code></pre>
<p>Please note that you can use fields and actions:</p>
<pre><code class="language-php">use Orchid\Screen\Actions\Link;

TD::set('full_name')
    -&gt;render(function ($user) {
        return Link::make($user-&gt;last_name)
               -&gt;route('platform.user.edit', $user);
    });</code></pre>
<p>Sometimes it may be necessary to get the value from the <code>query</code> screen, rather than relying only on the <code>target</code>. You can get the value as follows:</p>
<pre><code class="language-php">use Orchid\Screen\Actions\Link;

TD::set('price')
    -&gt;render(function ($product) {
        return $product-&gt;price + $this-&gt;query-&gt;get('tax');
    });</code></pre>
<h2><a href="#table-options" name="table-options">Table options</a></h2>
<p>You can specify the text to be displayed if the table is empty
specifying methods:</p>
<pre><code class="language-php">/**
 * @return string
 */
protected function iconNotFound(): string
{
    return 'icon-table';
}

/**
 * @return string
 */
protected function textNotFound(): string
{
    return __('There are no records in this view');
}

/**
 * @return string
 */
protected function subNotFound(): string
{
    return '';
}</code></pre>
<p>If the table rows do not seem contrasting to you, then you can enable
<code>striped</code> mode:</p>
<pre><code class="language-php">/**
 * @return bool
 */
protected function striped(): bool
{
    return false;
}</code></pre>
<h2><a href="#column-expansion" name="column-expansion">Column Expansion</a></h2>
<p>When working with the same type of data, it is often required to process it in the same way, in order not to duplicate the code in the layers, it is possible to extend the <code>TD</code> class using its own methods. To do this, it is necessary to register the closure function in the service provider.</p>
<p>Registration example:</p>
<pre><code class="language-php">// AppServiceProvider.php
TD::macro('bool', function () {

    $column = $this-&gt;column;

    $this-&gt;render(function ($datum) use ($column) {
        return view('bool',[
            'bool' =&gt; $datum-&gt;$column
        ]);
    });

    return $this;
});</code></pre>
<p>Template example:</p>
<pre><code class="language-php">// bool.blade.php

@if($bool)
    &lt;i class="icon-check text-success"&gt;&lt;/i&gt;
@else
    &lt;i class="icon-close text-danger"&gt;&lt;/i&gt;
@endif</code></pre>
<p>Usage example:</p>
<pre><code class="language-php">public function grid(): array
{
    return [
        TD::set('status')-&gt;bool(),
    ];
}</code></pre>                    </main></div>
            </div>
        </div>
    </div>

        </div>

        <!-- footer -->
        <footer id="footer"><section class="b-t"><div class="container">
                    <div class="pt-5 pb-5 text-xs text-center">

                                                    <ul class="list-inline"><li class="hidden-xs">
                                            <a href="/en/community/code-of-conduct">
                                                Code of conduct
                                            </a>
                                        </li>
                                                                        <li class="hidden-xs">
                                            <a href="/en/community/contributors">
                                                Contribution
                                            </a>
                                        </li>
                                                                        <li class="hidden-xs">
                                            <a href="/en/community/promote">
                                                Promote project
                                            </a>
                                        </li>
                                                                        <li class="hidden-xs">
                                            <a href="/en/community/license">
                                                License
                                            </a>
                                        </li>
                                                                                        </ul><ul class="list-inline"><li class="hidden-xs">
                                <a href="https://github.com/orchidsoftware" target="_blank">
                                    <i class="icon-social-github m-r-xs"></i> Github
                                </a>
                            </li>

                            <li>
                                <a href="https://twitter.com/orchid_platform" target="_blank" rel="noopener noreferrer">
                                    <i class="icon-social-twitter m-r-xs"></i> Twitter
                                </a>
                            </li>

                            <li>
                                <a href="https://t.me/orchid_community" target="_blank" rel="noopener noreferrer">
                                    <i class="icon-paper-plane m-r-xs"></i> Telegram
                                </a>
                            </li>
                        </ul><ul class="list-inline"><a href="/en">English</a>
                                <span> / </span>
                                <a href="/ru">Russian</a>
                        </ul></div>
                </div>
            </section></footer><!-- / footer --></div>


            <!-- Insert analytics code here -->

        <!-- Yandex.Metrika counter -->
        <script type="text/javascript" async> (function (d, w, c) {
                (w[c] = w[c] || []).push(function () {
                    try {
                        w.yaCounter42925369 = new Ya.Metrika2({
                            id: 42925369,
                            clickmap: true,
                            trackLinks: true,
                            accurateTrackBounce: true,
                            webvisor: true,
                            trackHash: true
                        });
                    } catch (e) {
                    }
                });
                var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () {
                    n.parentNode.insertBefore(s, n);
                };
                s.type = "text/javascript";
                s.async = true;
                s.src = "https://mc.yandex.ru/metrika/tag.js";
                if (w.opera == "[object Opera]") {
                    d.addEventListener("DOMContentLoaded", f, false);
                } else {
                    f();
                }
            })(document, window, "yandex_metrika_callbacks2"); </script><noscript>
            <div><img src="https://mc.yandex.ru/watch/42925369" style="position:absolute; left:-9999px;" alt=""></div>
        </noscript> <!-- /Yandex.Metrika counter -->


        <script async>
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r;
                i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
                a = s.createElement(o),
                    m = s.getElementsByTagName(o)[0];
                a.async = 1;
                a.src = g;
                m.parentNode.insertBefore(a, m)
            })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
            ga('create', 'UA-39757298-4', 'auto');
            ga('send', 'pageview');
        </script><script src="/assets/build/js/app.js?id=ec0abafe7946f492cf9c"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script><script type="text/javascript">
        if(window.document.getElementById('docsearch')) {
            docsearch({
                apiKey: 'afc2a7f7d4f201489dcd8c4f0f40bde2',
                indexName: 'orchid_software',
                inputSelector: '#docsearch',
                algoliaOptions: {'facetFilters': ["lang:" + document.documentElement.lang]},
                debug: true
            });
        }
    </script></body></html>